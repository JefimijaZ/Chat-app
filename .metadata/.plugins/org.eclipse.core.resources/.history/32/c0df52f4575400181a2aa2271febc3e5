package controllers;

import javax.websocket.OnClose;
import javax.websocket.OnMessage;
import javax.websocket.OnOpen;
import javax.websocket.Session;
import javax.websocket.server.ServerEndpoint;
import javax.ws.rs.core.MediaType;
import javax.ws.rs.core.Response;

import org.jboss.resteasy.client.jaxrs.ResteasyClient;
import org.jboss.resteasy.client.jaxrs.ResteasyClientBuilder;
import org.jboss.resteasy.client.jaxrs.ResteasyWebTarget;

@ServerEndpoint("/usersEndPoint")
public class UserController {
	
	@OnMessage
    public String onMessage(String message) {       
		ResteasyClient client = new ResteasyClientBuilder().build();
        ResteasyWebTarget target = client.target("http://localhost:8080/TestREST/rest/students/napravi/1;ime=Pera;prezime=Peric");
       // Response response = target.request(MediaType.APPLICATION_JSON).get();
 
        System.out.println("login():" );
        return "radi";
    }
	@OnOpen
    public void onOpen(Session session) {
		System.out.println("onOpen::" + session.getId());
       System.out.println("otvara ");
    }
    @OnClose
    public void onClose(Session session) {
    	
    	System.out.println("zatvara ");
    }
}
